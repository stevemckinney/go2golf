jQuery(document).ready(function(e){function t(e){var t=parseFloat(e),a=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0}function a(){e(".rwp-slider-std").each(function(t){e(this).noUiSlider({step:1,start:e(this).data("val"),connect:"lower",range:{min:e(this).data("min"),max:e(this).data("max")},format:wNumb({decimals:0})}),e(this).Link("lower").to(e(this).parent().find("input"),null,wNumb({decimals:0}))})}function r(){e(".rwp-slider-limits").each(function(t){var a=e(this).data("min"),r=e(this).data("max");r="inf"==r?1e4:r,e(this).noUiSlider({connect:!0,step:1,start:[a,r],range:{min:[0],"90%":5e3,max:1e4},format:wNumb({decimals:0})}),e(this).Link("lower").to(e(this).parent().find("input.rwp-min"),null,wNumb({decimals:0})),e(this).Link("upper").to(e(this).parent().find("input.rwp-max"),null,wNumb({decimals:0})),e(this).on({slide:function(){var t=(e(this).val()[0],e(this).val()[1]);t>5e3&&e(this).parent().find("input.rwp-max").val("no-limit")}}),r>5e3&&e(this).parent().find("input.rwp-max").val("no-limit")})}function n(e){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}function i(t){e(".rwp-t-scores-"+t).first().show(),e(".rwp-t-custom-tabs-"+t).first().show()}function p(t){e("#rwp-reviews-meta-box .rwp-tabs-wrap").children("li").each(function(t){e(this).removeClass("rwp-tabs")}),e("#rwp-review-tab-"+t).addClass("rwp-tabs"),e("#rwp-reviews-wrap").children(".rwp-review-form").each(function(t){e(this).hide()}),e("#rwp-review-"+t).show()}function s(a){var r="undefined"!=typeof rwpPreferences.preferences_step?parseFloat(rwpPreferences.preferences_step):.5,n=t(r),i=null==a?".rwp-slider":"#rwp-review-"+a+" .rwp-slider";e(i).each(function(t){e(this).noUiSlider({step:r,start:e(this).data("val"),connect:"lower",range:{min:e(this).data("min"),max:e(this).data("max")},format:wNumb({decimals:n})}),e(this).Link("lower").to(e(this).parent().find("input"),null,wNumb({decimals:n}))})}function o(t){e(".rwp-t-reviews-"+t).first().show()}function l(t){e("#rwp-tables-meta-box .rwp-tabs-wrap").children("li").each(function(t){e(this).removeClass("rwp-tabs")}),e("#rwp-table-tab-"+t).addClass("rwp-tabs"),e("#rwp-tables-wrap").children(".rwp-table-form").each(function(t){e(this).hide()}),e("#rwp-table-"+t).show()}function d(a){var r="undefined"!=typeof rwpPreferences.preferences_step?parseFloat(rwpPreferences.preferences_step):.5,n=t(r),i=e(a).find(".rwp-slider");e(i).each(function(t){e(this).noUiSlider({step:r,start:e(this).data("val"),connect:"lower",range:{min:e(this).data("min"),max:e(this).data("max")},format:wNumb({decimals:n})}),e(this).Link("lower").to(e(this).parent().find("input"),null,wNumb({decimals:n}))})}var c=document.getElementById("rwp-codemirror");if(null!==c){CodeMirror.fromTextArea(c,{lineNumbers:!0,lineWrapping:!0,theme:"neo",value:c.value,indentUnit:4,indentWithTabs:!0})}if(e("#rwp-add-criteria-btn").click(function(t){t.preventDefault();var a=e("#rwp-criterias"),r=a.data("placeholder"),n=a.data("remove-label"),i=a.data("id-label"),p=a.find("li").length,s='<li><span class="dashicons dashicons-menu"></span><input type="text" name="rwp_templates[template_criterias]['+p+']" value="" placeholder="'+r+'" /> <a class="rwp-remove-criteria-btn" href="#">'+n+"</a> <em>"+i+": c"+p+"</em></li>";e("#rwp-criterias").append(s)}),e(".wrap").on("click",".rwp-remove-criteria-btn",function(t){t.preventDefault(),e(this).parent().remove()}),e("#rwp-add-custom-tab-btn").click(function(t){t.preventDefault();var a=e("#rwp-custom-tabs"),r=a.find("li").last(),n=a.data("ajax"),i=0;0!=r.length&&(i=parseInt(r.data("i"))+1);var p="";p+='<li data-i="'+i+'">',e.each(n.formFields,function(e,t){var a=a="tab_color"==t?'class="rwp-color-picker"':"";p+="<span>",p+="<label>"+n.options[t].label+"</label>",p+='<input type="text" name="'+n.optionName+"["+n.fieldId+"]["+i+"]["+t+']" value="" placeholder="'+n.options[t]["default"]+'" '+a+" />",p+="</span>"}),p+='<span><a class="rwp-remove-tab-btn" href="#">'+n.removeLabel+"</a></span>",p+="</li>",a.append(p),e(".rwp-color-picker").wpColorPicker()}),e(".wrap").on("click",".rwp-remove-tab-btn",function(t){t.preventDefault(),e(this).parent().parent().remove()}),e(".rwp-color-picker").wpColorPicker(),e("#rwp-criterias").sortable(),e(".wrap").on("change",".rwp-exclude-terms input",function(t){t.preventDefault();var a=e(this).closest("ul"),r=a.find("input").length,n=a.find("input:checked").length,i=a.parent().find(".rwp-terms-msg"),p=a.data("msg");i.html(""),r==n&&(e(this).attr("checked",!1),i.html(p))}),null!=e("#rwp-pref-form")&&(r(),a()),e("#rwp-notification-btn").click(function(t){t.preventDefault();var a=e.trim(e(this).parent().find("input[type=text]").val());if(0==a.length||!n(a))return alert("Insert a valid email address"),!1;var r=e(this).parent().find(".rwp-loader"),i={action:demoNotificationDataObj.action,security:demoNotificationDataObj.ajax_nonce,email:a};r.fadeIn("fast"),e.post(demoNotificationDataObj.ajax_url,i,function(e){r.fadeOut("fast"),alert(e.data.msg)},"json").fail(function(){r.fadeOut("fast"),alert("Error sending email. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-clear-rosu-cache-btn").click(function(t){t.preventDefault();var a={action:rosuDataObj.action,security:rosuDataObj.ajax_nonce},r=e(this).parent().find(".rwp-loader"),n=e(this).parent().parent().parent().find(".rwp-clear-rosu-cache-notice-yes"),i=e(this).parent().parent().parent().find(".rwp-clear-rosu-cache-notice-no");n.hide(),i.hide(),r.fadeIn("fast"),e.post(rosuDataObj.ajax_url,a,function(e){r.fadeOut("fast"),e.data?n.fadeIn("fast"):i.fadeIn("fast")},"json").fail(function(){r.fadeOut("fast"),alert("Error clearing the cache. Retry or contact the plugin support team. Thank You.")})}),null!=e("#rwp-reviews-meta-box")&&s(null),e("#rwp-reviews-meta-box").on("change",".rwp-template-selection",function(){var t=e(this).data("review-id"),a=e(this).val();e(".rwp-t-scores-"+t).hide(),e("#rwp-template-scores-"+t+"-"+a).show(),e(".rwp-t-custom-tabs-"+t).hide(),e("#rwp-custom-tabs-"+t+"-"+a).show()}),e("#rwp-reviews-meta-box").on("click",".rwp-tabs-wrap li a",function(t){t.preventDefault();var a=e(this).data("review-id");p(a)}),e("#rwp-reviews-meta-box").on("click",".rwp-delete-review-btn",function(t){t.preventDefault();var a=e(this).data("review-id");e("#rwp-review-"+a).remove(),e("#rwp-review-tab-"+a).remove();var r=e(".rwp-review-form").last().data("review-id");p(r)}),e("#rwp-reviews-meta-box").on("click",".rwp-review-remove-image-btn",function(t){t.preventDefault();var a=e(this).data("review-id"),r=e(this).data("default");e("#rwp-review-image-img-"+a).attr("src",r),e("#rwp-review-add-image-input-"+a).val("")}),e("#rwp-add-review-form-btn").click(function(t){t.preventDefault();var a=0,r=e("#rwp-reviews-meta-box .rwp-tabs-wrap").data("placehoder"),n=e(".rwp-review-form").last().data("review-id"),o=e(this).parent().find(".rwp-loader"),l=e(this).parent().find("select[name=rwp-review-type]").val();null!=n&&(a=parseInt(n)+1);var d={action:reviewsMetaBoxObj.action,security:reviewsMetaBoxObj.ajax_nonce,rwp_review_id:a,rwp_review_type:l};o.fadeIn("fast"),e.post(reviewsMetaBoxObj.ajax_url,d,function(t){e("#rwp-reviews-wrap").append(t),e("#rwp-reviews-meta-box .rwp-tabs-wrap").append('<li class="rwp-tabs" id="rwp-review-tab-'+a+'"><a href="#" data-review-id="'+a+'">'+r+" "+a+"</a></li>"),i(a),p(a),o.fadeOut("fast"),s(a)}).fail(function(){o.fadeOut("fast"),alert("Error getting review form. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-reviews-meta-box").on("click",".rwp-add-custom-link-btn",function(t){t.preventDefault();var a=(e(this).data("review-id"),0),r=e(this).parent().find("li").last().data("id");null!=r&&(a=parseInt(r)+1);var n=e(this).parent().find(".rwp-custom-links"),i='<li data-id="'+a+'">';i+='<input type="text" name="rwp_reviews[0][review_custom_links]['+a+'][label]"\tvalue="" placeholder="'+n.data("label-placeholder")+'">',i+='<input type="text" name="rwp_reviews[0][review_custom_links]['+a+'][url]" \tvalue="" placeholder="'+n.data("url-placeholder")+'">',i+='<a href="#" class="rwp-delete-custom-link-btn">'+n.data("remove-placeholder")+"</a>",i+="</li>",n.append(i)}),e("#rwp-reviews-meta-box").on("click",".rwp-delete-custom-link-btn",function(t){t.preventDefault(),e(this).parent().remove()}),e("#rwp-reviews-meta-box").on("keyup",".rwp-review-title-input",function(t){t.preventDefault();var a=e(this).data("review-id"),r=e(this).data("default"),n=e(this).val(),i=""==n?r:n;e("#rwp-review-tab-"+a+" a").html(i)}),e("#rwp-tables-meta-box").on("change",".rwp-template-selection",function(){var t=e(this).data("table-id"),a=e(this).val();e(".rwp-t-reviews-"+t).hide(),e("#rwp-template-reviews-"+t+"-"+a).show()}),e("#rwp-tables-meta-box").on("click",".rwp-tabs-wrap li a",function(t){t.preventDefault();var a=e(this).data("table-id");l(a)}),e("#rwp-tables-meta-box").on("click",".rwp-delete-table-btn",function(t){t.preventDefault();var a=e(this).data("table-id");e("#rwp-table-"+a).remove(),e("#rwp-table-tab-"+a).remove();var r=e(".rwp-table-form").last().data("table-id");l(r)}),e("#rwp-add-table-form-btn").click(function(t){t.preventDefault();var a=0,r=e("#rwp-tables-meta-box .rwp-tabs-wrap").data("placehoder"),n=e(".rwp-table-form").last().data("table-id"),i=e(this).parent().find(".rwp-loader");null!=n&&(a=parseInt(n)+1);var p={action:tablesMetaBoxObj.action,security:tablesMetaBoxObj.ajax_nonce,rwp_table_id:a};i.fadeIn("fast"),e.post(tablesMetaBoxObj.ajax_url,p,function(t){e("#rwp-tables-wrap").append(t),e("#rwp-tables-meta-box .rwp-tabs-wrap").append('<li class="rwp-tabs" id="rwp-table-tab-'+a+'"><a href="#" data-table-id="'+a+'">'+r+"</a></li>"),o(a),l(a),i.fadeOut("fast")}).fail(function(){i.fadeOut("fast"),alert("Error getting table form. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-tables-meta-box").on("keyup",".rwp-table-title-input",function(t){t.preventDefault();var a=e(this).data("table-id"),r=e(this).data("default"),n=e(this).val(),i=""==n?r:n;e("#rwp-table-tab-"+a+" a").html(i)}),e(".rwp-theme-name").tooltip({track:!0,tooltipClass:"rwp-tooltip",content:function(){return'<img src="'+e(this).data("preview")+'" height="400px" />'}}),e("#rwp-rating-image-btn-default").click(function(t){t.preventDefault();var a=e(this).data("default");e("#rwp-rating-image-url").val(a),e("#rwp-rating-image").attr("src",a)}),e(".themes").on("click",".rwp-delete-template-btn",function(t){t.preventDefault();var a=e(this).data("template-id"),r=e(this).data("confirm-msg"),n=confirm(r);if(1!=n)return!1;var i=e(".wrap").find(".rwp-loader"),p={action:deleteTemplateObj.action,security:deleteTemplateObj.ajax_nonce,templateId:a};i.fadeIn("fast"),e.post(deleteTemplateObj.ajax_url,p,function(t){e("#rwp-theme-wrap-"+a).fadeOut("fast",function(){e(this).remove()}),i.fadeOut("fast")},"json").fail(function(){i.fadeOut("fast"),alert("Error deleting template. Retry or contact the plugin support team. Thank You.")})}),e(".themes").on("click",".rwp-duplicate-template-btn",function(t){t.preventDefault();var a=e(this).data("template-id"),r=e(".wrap").find(".rwp-loader"),n={action:duplicateTemplateObj.action,security:duplicateTemplateObj.ajax_nonce,templateId:a};r.fadeIn("fast"),e.post(duplicateTemplateObj.ajax_url,n,function(t){if("undefined"!=typeof t.html){var a=e(".theme.add-new-theme"),n=e(".themes");a.remove(),n.append(t.html).append(a)}r.fadeOut("fast")},"json").fail(function(){r.fadeOut("fast"),alert("Error duplicating template. Retry or contact the plugin support team. Thank You.")})}),e("#rwp-restore-data-btn").click(function(t){t.preventDefault();var a=e(this).data("confirm-msg"),r=confirm(a);if(1!=r)return!1;var n=e(this).parent().find(".rwp-loader"),i={action:restoreDataObj.action,security:restoreDataObj.ajax_nonce};n.fadeIn("fast"),e.post(restoreDataObj.ajax_url,i,function(t){e("#rwp-restore-data-notification p strong").html(t.msg),e("#rwp-restore-data-notification").slideDown("fats"),n.fadeOut("fast")},"json").fail(function(){n.fadeOut("fast"),alert("Error restoring data. Retry or contact the plugin support team. Thank You.")})}),e(".rwp-reset-score-btn").click(function(t){t.preventDefault();var a=e(this).data("confirm-msg"),r=e(this).data("res-msg"),n=e(this).data("review-id"),i=e(this).data("post-id"),p=confirm(a),s=e(this);if(1!=p)return!1;var o=e(this).parent().find(".rwp-loader"),l={action:resetScoreObj.action,security:resetScoreObj.ajax_nonce,reviewId:n,postId:i};o.fadeIn("fast"),e.post(resetScoreObj.ajax_url,l,function(e){s.parent().parent().find(".rwp_reviews_table_review_users_score").html(r),o.fadeOut("fast")}).fail(function(){o.fadeOut("fast"),alert("Error resetting score. Retry or contact the plugin support team. Thank You.")})}),e(".rwp-delete-single-review-btn").click(function(t){t.preventDefault();var a=e(this).data("confirm-msg"),r=e(this).data("res-msg"),n=e(this).data("review-id"),i=e(this).data("post-id"),p=confirm(a),s=e(this);if(1!=p)return!1;var o=e(this).parent().find(".rwp-loader"),l={action:deleteReviewObj.action,security:deleteReviewObj.ajax_nonce,reviewId:n,postId:i};o.fadeIn("fast"),e.post(deleteReviewObj.ajax_url,l,function(e){switch(o.fadeOut("fast"),e.code){case 400:o.fadeOut("fast"),alert(e.data.msg);break;case 200:s.parent().parent().remove(),alert(r);break;default:alert("Error in deleting process!")}},"json").fail(function(e){o.fadeOut("fast"),alert("Error deleting review. Retry or contact the plugin support team. Thank You.")})}),"undefined"!=typeof rwpRlForm){var f=jQuery(rwpRlForm);f.find("table");f.appendTo("body").hide(),f.find("#rwp-rl-gen-btn").click(function(t){t.preventDefault();var a=e("#rwp-rl-form").serializeArray(),r="[rwp_boxes",n=[];jQuery.each(a,function(t,a){switch(a.name){case"rwp_rl[title]":var i=e.trim(a.value);""!=i&&(r+=' title="'+i+'"');break;case"rwp_rl[template]":""!=a.value&&n.push(a.value);break;case"rwp_rl[sorting]":"top_score_users_score"!=a.value&&(r+=' sorting="'+a.value+'"');break;case"rwp_rl[count]":var p=e.trim(a.value);""!=p&&5!=p&&(r+=' count="'+p+'"');break;case"rwp_rl[layout]":"auto"!=a.value&&(r+=' layout="'+a.value+'"')}}),n.length>0&&(r+=' template="'+n.join(":")+'"');var i=e("#rwp-rl-form").find('input[name="rwp_rl[stars]"]');i.is(":checked")&&(r+=' stars="yes"'),r+="]",tinyMCE.activeEditor.insertContent(r),tb_remove()})}e("#rwp-io_action").change(function(){var t=e(this).val(),a=e(this).data("fname"),r=e("#rwp_io_submit"),n=r.data("export"),i=r.data("import"),p='<tr id="rwp-io-file-input">';p+='<th scope="row">File</th>',p+="<td>",p+='<input type="file" name="'+a+'" value="" />',p+="</td>",p+="</tr>","rwp_export"==t?(r.val(n),e("#rwp-io-file-input").remove()):(r.val(i),e(this).parent().parent().parent().append(p))}),e(".api h4").click(function(t){t.preventDefault();var a=e(this).parent().find(".api-content");a.toggle()}),e(".reviewer_page_reviewer-users-ratings-page").on("click",".rwp-rmi-cancel",function(t){var a=e(this).data("rating-id");e("#rwp-tr-r-"+a).fadeOut("fast",function(){e(this).remove()}),e("#rwp-tr-r-a-"+a).fadeIn("fast")}),e("#rwp-ratings-mega-wrap").on("click",".rwp-rmi-delete-image",function(t){t.preventDefault();var a=e(this).data("attachment"),r=e(this).parent().parent().parent().find('input[name="rwp-rmi[rating_images_to_delete]"]'),n=r.val().split(","),i=[];n.forEach(function(e,t,a){var r=parseInt(e);isNaN(r)||i.push(r)}),i.push(parseInt(a)),r.val(i.join(", ")),e(this).parent().remove()}),e("#rwp-ratings-mega-wrap").on("click",".rwp-ratings-action",function(t){t.preventDefault();var a=e(this).data("action"),r=e(this).data("meta-id"),n=e(this).data("rating-id"),i=e(this).data("counterpart"),p={},s=e(this).parent().parent().parent().parent().find(".rwp-loader");if("delete"==a){var o=e(this).data("confirm-msg"),l=confirm(o);if(1!=l)return!1}if("edit-done"==a){var c=e(this).parent(),f=c.find('input[name="rwp-rmi[rating_user_name]"]').val();f="undefined"==typeof f?"":f;var u=c.find('input[name="rwp-rmi[rating_user_email]"]').val();u="undefined"==typeof u?"":u,p.rating_user_name=f,p.rating_user_email=u,p.rating_title=c.find('input[name="rwp-rmi[rating_title]"]').val(),p.rating_comment=c.find('textarea[name="rwp-rmi[rating_comment]"]').val(),p.rating_date=c.find('input[name="rwp-rmi[rating_date]"]').val(),p.rating_score=[],p.rating_images_new=c.find('input[name="rwp-rmi[rating_images_new]"]').val(),p.rating_date_to_delete=c.find('input[name="rwp-rmi[rating_images_to_delete]"]').val(),c.find(".rwp-scores-sliders input[type=text]").each(function(t){p.rating_score[e(this).data("index")]=e(this).val()}),s=e(this).parent().find(".rwp-loader")}var w=e(this).parent().parent().parent().parent().find(".rwp-marker"),m=e(this).parent().parent().parent().parent().find(".rwp-badge"),v={action:ratingsManagerActionsObj.action,security:ratingsManagerActionsObj.ajax_nonce,metaId:r,ratingId:n,ac:a,pending:e(this).data("pending"),newRating:p},h=e(this);s.fadeIn("fast"),e.post(ratingsManagerActionsObj.ajax_url,v,function(t){switch(t.code){case 400:s.fadeOut("fast"),alert(t.data.msg);break;case 200:if(s.fadeOut("fast"),"approve"==a)return w.addClass("rwp-hidden"),h.data("action","unapprove"),h.data("counterpart",h.html()),h.html(i),h.parent().removeClass("rwp_approve").addClass("rwp_unapprove"),h.parent().parent().find(".delete a").data("pending","no"),h.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').attr("data-pending","no"),void h.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').data("pending","no");if("unapprove"==a)return w.removeClass("rwp-hidden"),h.data("action","approve"),h.data("counterpart",h.html()),h.html(i),h.parent().removeClass("rwp_unapprove").addClass("rwp_approve"),h.parent().parent().find(".delete a").data("pending","yes"),h.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').attr("data-pending","yes"),void h.parent().parent().parent().parent().find('input[name="rwp_bulk_action[]"]').data("pending","yes");if("verify"==a)return m.removeClass("rwp-hidden"),h.data("action","unverify"),h.data("counterpart",h.html()),h.html(i),void h.parent().removeClass("rwp_verify").addClass("rwp_unverify");if("unverify"==a)return m.addClass("rwp-hidden"),h.data("action","verify"),h.data("counterpart",h.html()),h.html(i),void h.parent().removeClass("rwp_unverify").addClass("rwp_verify");if("delete"==a)return void h.parent().parent().parent().parent().remove();if("edit"==a){var r=h.parent().parent().parent().parent(),p=t.data.rating,o=t.data.form;r.attr("id","rwp-tr-r-a-"+n),r.hide(),e(o).insertBefore(r).fadeIn("fast"),d("#rwp-tr-r-"+n)}if("edit-done"==a){var r=e("#rwp-tr-r-a-"+n),p=t.data.rating;p.rating_user_id<1&&(r.find(".rwp-rt-user-name").html(p.rating_user_name),r.find(".rwp_rt_author a").html(p.rating_user_email)),r.find(".rwp_rt_comment .rwp-the-comment").html(p.rating_title),r.find(".rwp_rt_comment p").html(p.rating_comment),r.find(".rwp_rt_comment em").html("Submitted on "+p.rating_date),r.find(".rwp_rt_score").find("p").remove(),r.find(".rwp_rt_score").append('<p class="description" style="color: red">Refresh the page to update scores and images</p>'),e("#rwp-tr-r-"+n).fadeOut("fast",function(){e(this).remove()}),r.fadeIn("fast")}}},"json").fail(function(e){s.fadeOut("fast"),alert("Error during action!")})}),e("#rwp-ratings-mega-wrap #doaction, #rwp-ratings-mega-wrap #doaction2").click(function(t){t.preventDefault();var a=e(this).parent().parent().parent(),r=[],n=a.find('input[name="rwp_bulk_action[]"]:checked'),i=e(this).parent().find("select").val();if(0!=n.length&&i!=-1){if(n.each(function(t){var a={};a.metaId=e(this).data("meta-id"),a.ratingId=e(this).data("rating-id"),a.pending=e(this).data("pending"),r.push(a)}),"delete"==i){var p="Confirm the action?",s=confirm(p);if(1!=s)return!1}var o={action:ratingsManagerActionsBulkObj.action,security:ratingsManagerActionsBulkObj.ajax_nonce,rows:r,ac:i},l=e("#rwp-ratings-mega-wrap .rwp-loader").first().attr("src");e("#rwp-ratings-mega-wrap .bulkactions img").remove(),e("#rwp-ratings-mega-wrap .bulkactions").append('<img style="margin-top:6px; display:none;" src="'+l+'" alt="" />');var d=e("#rwp-ratings-mega-wrap .bulkactions img");d.fadeIn("fast"),e.post(ratingsManagerActionsBulkObj.ajax_url,o,function(e){switch(e.code){case 400:d.fadeOut("fast"),alert(e.data.msg);break;case 200:d.fadeOut("fast"),location.reload()}},"json").fail(function(e){d.fadeOut("fast"),alert("Error during bulk action!")})}})}),function(e){"use strict";var t=function(t,a){t.on("click","#rwp-activate-license",function(r){r.preventDefault();var n=e(this).parent().find(".rwp-loader"),i=t.find("#rwp-license-notice"),p=a.find("#rwp-license-first-name").val(),s=a.find("#rwp-license-last-name").val(),o=a.find("#rwp-license-email").val(),l=a.find("#rwp-license-envato-username").val(),d=a.find("#rwp-license-purchase-code").val(),c={first_name:p?p:"",last_name:s?s:"",email:o?o:"",envato_username:l?l:"",purchase_code:d?d:"",action:rwpLicense.action,security:rwpLicense.ajax_nonce};n.fadeIn("fast"),i.slideUp("fast",function(){e(this).html("")}),e.post(rwpLicense.ajax_url,c,function(e){n.fadeOut("fast");var t="";e.success?(i.html("<p>"+e.data.message+"</p>").removeClass("updated error").addClass("updated").slideDown("fast"),setTimeout(function(){window.location.replace(rwpLicense.redirect_to)},2e3)):("object"==typeof e.data?(t+="<ul>",e.data.forEach(function(e,a,r){t+="<li>"+e+"</li>"}),t+="</ul>"):t+="<p><strong>"+e.data+"</strong></p>",i.html(t).removeClass("updated error").addClass("error").slideDown("fast"))},"json").fail(function(e){n.fadeOut("fast"),alert("Unable to register the license. Please contact the Support Team")})}),t.on("click","#rwp-remove-license",function(r){r.preventDefault();var n=e(this).parent().find(".rwp-loader"),i=t.find("#rwp-license-notice"),p=(a.find("#rwp-license-first-name").val(),a.find("#rwp-license-last-name").val(),a.find("#rwp-license-email").val(),a.find("#rwp-license-envato-username").val(),a.find("#rwp-license-purchase-code").val(),{action:rwpLicense.action_remove,security:rwpLicense.ajax_nonce_remove});n.fadeIn("fast"),i.slideUp("fast",function(){e(this).html("")}),e.post(rwpLicense.ajax_url,p,function(e){n.fadeOut("fast");var t="";e.success?(i.html("<p>"+e.data.message+"</p>").removeClass("updated error").addClass("updated").slideDown("fast"),setTimeout(function(){location.reload()},2e3)):("object"==typeof e.data?(t+="<ul>",e.data.forEach(function(e,a,r){t+="<li>"+e+"</li>"}),t+="</ul>"):t+="<p><strong>"+e.data+"</strong></p>",i.html(t).removeClass("updated error").addClass("error").slideDown("fast"))},"json").fail(function(e){n.fadeOut("fast"),alert("Unable to remove the license. Please contact the Support Team")})})};e(function(){var a=e(".wrap"),r=e("#rwp-license-form");t(a,r)})}(jQuery);